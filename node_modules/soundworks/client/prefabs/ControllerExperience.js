'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = require('babel-runtime/helpers/get');

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _Experience2 = require('../core/Experience');

var _Experience3 = _interopRequireDefault(_Experience2);

var _View = require('../views/View');

var _View2 = _interopRequireDefault(_View);

var _ControllerScene = require('./ControllerScene');

var _ControllerScene2 = _interopRequireDefault(_ControllerScene);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Predefined experience to create a 1 line shared controller
 *
 * @memberof module:soundworks/client
 */
var ControllerExperience = function (_Experience) {
  (0, _inherits3.default)(ControllerExperience, _Experience);

  function ControllerExperience() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    (0, _classCallCheck3.default)(this, ControllerExperience);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ControllerExperience.__proto__ || (0, _getPrototypeOf2.default)(ControllerExperience)).call(this));

    _this.sharedParams = _this.require('shared-params');
    _this.controllerScene = new _ControllerScene2.default(_this, _this.sharedParams);

    if (options.auth) _this.auth = _this.require('auth');
    return _this;
  }

  (0, _createClass3.default)(ControllerExperience, [{
    key: 'start',
    value: function start() {
      (0, _get3.default)(ControllerExperience.prototype.__proto__ || (0, _getPrototypeOf2.default)(ControllerExperience.prototype), 'start', this).call(this);

      this.view = new _View2.default();
      this.show();

      this.controllerScene.enter();
    }

    /**
     * Configure the GUI for a given parameter, this method only makes sens if
     * `options.hasGUI=true`.
     * @param {String} name - Name of the parameter to configure.
     * @param {Object} options - Options to configure the parameter GUI.
     * @param {String} options.type - Type of GUI to use. Each type of parameter can
     *  used with different GUI according to their type and comes with acceptable
     *  default values.
     * @param {Boolean} [options.show=true] - Display or not the GUI for this parameter.
     * @param {Boolean} [options.confirm=false] - Ask for confirmation when the value changes.
     */

  }, {
    key: 'setGuiOptions',
    value: function setGuiOptions(name, options) {
      this.controllerScene.setGuiOptions(name, options);
    }
  }, {
    key: 'container',
    get: function get() {
      return this.view.$el;
    }
  }]);
  return ControllerExperience;
}(_Experience3.default);

exports.default = ControllerExperience;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbnRyb2xsZXJFeHBlcmllbmNlLmpzIl0sIm5hbWVzIjpbIkNvbnRyb2xsZXJFeHBlcmllbmNlIiwib3B0aW9ucyIsInNoYXJlZFBhcmFtcyIsInJlcXVpcmUiLCJjb250cm9sbGVyU2NlbmUiLCJDb250cm9sbGVyU2NlbmUiLCJhdXRoIiwidmlldyIsIlZpZXciLCJzaG93IiwiZW50ZXIiLCJuYW1lIiwic2V0R3VpT3B0aW9ucyIsIiRlbCIsIkV4cGVyaWVuY2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBR0E7Ozs7O0lBS01BLG9COzs7QUFDSixrQ0FBMEI7QUFBQSxRQUFkQyxPQUFjLHVFQUFKLEVBQUk7QUFBQTs7QUFBQTs7QUFHeEIsVUFBS0MsWUFBTCxHQUFvQixNQUFLQyxPQUFMLENBQWEsZUFBYixDQUFwQjtBQUNBLFVBQUtDLGVBQUwsR0FBdUIsSUFBSUMseUJBQUosUUFBMEIsTUFBS0gsWUFBL0IsQ0FBdkI7O0FBRUEsUUFBSUQsUUFBUUssSUFBWixFQUNFLE1BQUtBLElBQUwsR0FBWSxNQUFLSCxPQUFMLENBQWEsTUFBYixDQUFaO0FBUHNCO0FBUXpCOzs7OzRCQUVPO0FBQ047O0FBRUEsV0FBS0ksSUFBTCxHQUFZLElBQUlDLGNBQUosRUFBWjtBQUNBLFdBQUtDLElBQUw7O0FBRUEsV0FBS0wsZUFBTCxDQUFxQk0sS0FBckI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Ozs7a0NBV2NDLEksRUFBTVYsTyxFQUFTO0FBQzNCLFdBQUtHLGVBQUwsQ0FBcUJRLGFBQXJCLENBQW1DRCxJQUFuQyxFQUF5Q1YsT0FBekM7QUFDRDs7O3dCQUVlO0FBQ2QsYUFBTyxLQUFLTSxJQUFMLENBQVVNLEdBQWpCO0FBQ0Q7OztFQXJDZ0NDLG9COztrQkF3Q3BCZCxvQiIsImZpbGUiOiJDb250cm9sbGVyRXhwZXJpZW5jZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeHBlcmllbmNlIGZyb20gJy4uL2NvcmUvRXhwZXJpZW5jZSc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi92aWV3cy9WaWV3JztcbmltcG9ydCBDb250cm9sbGVyU2NlbmUgZnJvbSAnLi9Db250cm9sbGVyU2NlbmUnO1xuXG5cbi8qKlxuICogUHJlZGVmaW5lZCBleHBlcmllbmNlIHRvIGNyZWF0ZSBhIDEgbGluZSBzaGFyZWQgY29udHJvbGxlclxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6c291bmR3b3Jrcy9jbGllbnRcbiAqL1xuY2xhc3MgQ29udHJvbGxlckV4cGVyaWVuY2UgZXh0ZW5kcyBFeHBlcmllbmNlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc2hhcmVkUGFyYW1zID0gdGhpcy5yZXF1aXJlKCdzaGFyZWQtcGFyYW1zJyk7XG4gICAgdGhpcy5jb250cm9sbGVyU2NlbmUgPSBuZXcgQ29udHJvbGxlclNjZW5lKHRoaXMsIHRoaXMuc2hhcmVkUGFyYW1zKTtcblxuICAgIGlmIChvcHRpb25zLmF1dGgpXG4gICAgICB0aGlzLmF1dGggPSB0aGlzLnJlcXVpcmUoJ2F1dGgnKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG5cbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldygpO1xuICAgIHRoaXMuc2hvdygpO1xuXG4gICAgdGhpcy5jb250cm9sbGVyU2NlbmUuZW50ZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgdGhlIEdVSSBmb3IgYSBnaXZlbiBwYXJhbWV0ZXIsIHRoaXMgbWV0aG9kIG9ubHkgbWFrZXMgc2VucyBpZlxuICAgKiBgb3B0aW9ucy5oYXNHVUk9dHJ1ZWAuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcGFyYW1ldGVyIHRvIGNvbmZpZ3VyZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIHRvIGNvbmZpZ3VyZSB0aGUgcGFyYW1ldGVyIEdVSS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMudHlwZSAtIFR5cGUgb2YgR1VJIHRvIHVzZS4gRWFjaCB0eXBlIG9mIHBhcmFtZXRlciBjYW5cbiAgICogIHVzZWQgd2l0aCBkaWZmZXJlbnQgR1VJIGFjY29yZGluZyB0byB0aGVpciB0eXBlIGFuZCBjb21lcyB3aXRoIGFjY2VwdGFibGVcbiAgICogIGRlZmF1bHQgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3c9dHJ1ZV0gLSBEaXNwbGF5IG9yIG5vdCB0aGUgR1VJIGZvciB0aGlzIHBhcmFtZXRlci5cbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jb25maXJtPWZhbHNlXSAtIEFzayBmb3IgY29uZmlybWF0aW9uIHdoZW4gdGhlIHZhbHVlIGNoYW5nZXMuXG4gICAqL1xuICBzZXRHdWlPcHRpb25zKG5hbWUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJTY2VuZS5zZXRHdWlPcHRpb25zKG5hbWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0IGNvbnRhaW5lcigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LiRlbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyRXhwZXJpZW5jZTtcbiJdfQ==